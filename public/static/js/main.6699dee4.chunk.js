(this.webpackJsonpcreap=this.webpackJsonpcreap||[]).push([[0],{68:function(e,t,a){e.exports=a(89)},89:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(26),c=a.n(o),l=a(19),u=a(20),s=a(5),i=a(2),d=a.n(i),p=a(25),m=a(24),j=a(61);function b(e){var t,a,r,n,o,c,l,u=arguments;return d.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=u.length>1&&void 0!==u[1]?u[1]:{},a=t.body,r=Object(j.a)(t,["body"]),n={"Content-Type":"application/json"},o=Object(m.a)({method:a?"POST":"GET"},r,{headers:Object(m.a)({},n,{},r.headers)}),a&&(o.body=JSON.stringify(a)),s.prev=5,s.next=8,d.a.awrap(window.fetch(e,o));case 8:return l=s.sent,s.next=11,d.a.awrap(l.json());case 11:if(c=s.sent,!l.ok){s.next=14;break}return s.abrupt("return",c);case 14:throw new Error(l.statusText);case 17:return s.prev=17,s.t0=s.catch(5),s.abrupt("return",Promise.reject(s.t0.message?s.t0.message:c));case 20:case"end":return s.stop()}}),null,null,[[5,17]])}var f,E=function(e){var t,a=arguments;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:{},r.abrupt("return",b(e,Object(m.a)({},t,{method:"GET"})));case 2:case"end":return r.stop()}}))},v=function(e,t){var a,r=arguments;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.length>2&&void 0!==r[2]?r[2]:{},n.abrupt("return",b(e,Object(m.a)({body:t},a,{method:"POST"})));case 2:case"end":return n.stop()}}))},O=function(e,t){var a,r=arguments;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.length>2&&void 0!==r[2]?r[2]:{},n.abrupt("return",b(e,Object(m.a)({body:t},a,{method:"PUT"})));case 2:case"end":return n.stop()}}))},g=function(e){var t,a=arguments;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:{},r.abrupt("return",b(e,Object(m.a)({},t,{method:"DELETE"})));case 2:case"end":return r.stop()}}))},h="http://192.168.15.12:3004",x=Object(p.c)(),y=x.getInitialState({status:"not_loaded",error:null}),w=Object(p.b)("projetos/fetchProjetos",(function(){return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.awrap(E("".concat(h,"/projetos")));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))})),P=Object(p.b)("projetos/deleteProjetoServer",(function(e){return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(g("".concat(h,"/projetos/").concat(e)));case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}))})),S=Object(p.b)("projetos/addProjetoServer",(function(e){return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(v("".concat(h,"/projetos"),e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),_=Object(p.b)("projetos/updateProjetoServer",(function(e){return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(O("".concat(h,"/projetos/").concat(e.id),e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})),k=Object(p.d)({name:"projetos",initialState:y,extraReducers:(f={},Object(s.a)(f,w.pending,(function(e,t){e.status="loading"})),Object(s.a)(f,w.fulfilled,(function(e,t){e.status="loaded",x.setAll(e,t.payload)})),Object(s.a)(f,w.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),Object(s.a)(f,P.pending,(function(e,t){e.status="loading"})),Object(s.a)(f,P.fulfilled,(function(e,t){e.status="deleted",x.removeOne(e,t.payload)})),Object(s.a)(f,S.pending,(function(e,t){e.status="loading"})),Object(s.a)(f,S.fulfilled,(function(e,t){e.status="saved",x.addOne(e,t.payload)})),Object(s.a)(f,_.pending,(function(e,t){e.status="loading"})),Object(s.a)(f,_.fulfilled,(function(e,t){e.status="saved",x.upsertOne(e,t.payload)})),f)}).reducer,N=x.getSelectors((function(e){return e.projetos})),T=N.selectAll,F=N.selectById,C=(N.selectIds,a(111)),B=a(110),I=a(112),A=a(54),J=a.n(A),R=a(108);var W=function(e){return null!=e&&null!=e.projeto&&null!=e.projeto.id?n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement(l.b,{to:"/projetos/".concat(e.projeto.id)},n.a.createElement("button",null,e.projeto.nome))),n.a.createElement("td",null,e.projeto.sigla),n.a.createElement("td",null,n.a.createElement(R.a,{id:"excluir_projeto_".concat(e.projeto.id),name:"excluir_projeto",onClick:function(){return e.onClickExcluirProjeto(e.projeto.id)}},n.a.createElement(J.a,null)))):n.a.createElement("tr",null,n.a.createElement("td",{colSpan:3},"N\xe3o foi poss\xedvel exibir o projeto."))};var q=function(e){return null!=e&&null!=e.projetos&&e.projetos.length>0?n.a.createElement("table",{id:"projetos",border:"1"},n.a.createElement("tbody",null,e.projetos.map((function(t){return n.a.createElement(W,{key:t.id,projeto:t,onClickExcluirProjeto:e.onClickExcluirProjeto})})))):n.a.createElement("div",{id:"projetos"},"N\xe3o existem projetos a serem exibidos.")},G=Object(B.a)({root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:48,padding:"0 30px"}});var L=function(e){var t,a=Object(u.c)(T),o=Object(u.c)((function(e){return e.projetos.status})),c=Object(u.c)((function(e){return e.projetos.error})),s=Object(u.b)(),i=G();return Object(r.useEffect)((function(){"not_loaded"===o?s(w()):"failed"===o&&setTimeout((function(){return s(w())}),5e3)}),[o,s]),t="loaded"===o||"saved"===o||"deleted"===o?n.a.createElement(q,{projetos:a,onClickExcluirProjeto:function(e){s(P(e))}}):"loading"===o?n.a.createElement("div",{id:"projetos"},"Carregando os projetos..."):"not_loaded"===o?"":n.a.createElement("div",{id:"projetos"},"Error: ",c),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{id:"lbl_titulo_pagina"},n.a.createElement(C.a,{variant:"h3"},"Listagem\xa0de\xa0Projetos")),n.a.createElement("br",null),n.a.createElement(I.a,{className:i.root,id:"Novo\xa0Projeto",name:"btn_novo_projeto",to:"/projetos/novo",component:l.b},"Novo\xa0Projeto"),n.a.createElement("br",null),n.a.createElement("br",null),t,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0")},V=a(21),D=a(6),H=a(32),U=a(58);Object(H.b)(U.ptForm);var $=Object(H.a)().shape({id:Object(H.c)(),nome:Object(H.c)().required().max(30),sigla:Object(H.c)().required().max(5)}),z=a(59),K=a(46);function M(e){var t,a,o,c=Object(D.f)(),l=Object(u.b)(),s=Object(D.g)().id,i=Object(u.c)((function(e){return F(e,s)})),d=Object(K.useForm)({resolver:Object(z.yupResolver)($)}),p=d.register,j=d.handleSubmit,b=d.errors,f=Object(r.useState)(s&&null!==i&&void 0!==i?i:$.cast({})),E=Object(V.a)(f,1)[0],v=Object(r.useState)(s&&i?"projetos/updateProjeto":"projetos/addProjeto"),O=Object(V.a)(v,1)[0];return o="projetos/addProjeto"===O?"Novo Projeto":"Altera\xe7\xe3o de Projeto",n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,o),n.a.createElement("form",{onSubmit:j((function(e){l("projetos/addProjeto"===O?S(e):_(Object(m.a)({},e,{id:i.id}))),c.push("/projetos")}))},n.a.createElement("label",null,"Nome:",n.a.createElement("input",{type:"text",name:"nome",id:"nome",defaultValue:E.nome,ref:p}),"\xa0",n.a.createElement("span",{id:"nome_err_msg"},null===(t=b.nome)||void 0===t?void 0:t.message)),n.a.createElement("br",null),n.a.createElement("label",null,"Sigla:",n.a.createElement("input",{type:"text",name:"sigla",id:"sigla",defaultValue:E.sigla,ref:p}),"\xa0",n.a.createElement("span",{id:"sigla_err_msg"},null===(a=b.sigla)||void 0===a?void 0:a.message)),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(I.a,{type:"submit",id:"Salvar",name:"btn_salvar_projeto",variant:"contained",color:"primary"},"Salvar")))}var Q=Object(p.a)({reducer:{projetos:k}}),X=a(115),Y=a(60),Z=a(117),ee=a(114),te=a(116),ae=a(113),re=a(43),ne=Object(Y.a)({palette:{primary:{main:ae.a[500]},secondary:{main:re.a[800]}}});ne=Object(Z.a)(ne);var oe=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(ee.a,{theme:ne},n.a.createElement(X.a,null),n.a.createElement(u.a,{store:Q},n.a.createElement(te.a,{maxWidth:"sm"},n.a.createElement(l.a,null,n.a.createElement("div",null,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",n.a.createElement("nav",null,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(l.b,{to:"/"},"Home")),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",n.a.createElement("li",null,n.a.createElement(l.b,{to:"/projetos/novo"},"Novo\xa0Projeto")),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",n.a.createElement("li",null,n.a.createElement(l.b,{to:"/projetos"},"Projetos")),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),n.a.createElement(D.c,null,n.a.createElement(D.a,{path:"/projetos/novo"},n.a.createElement(M,null)),n.a.createElement(D.a,{path:"/projetos/:id"},n.a.createElement(M,null)),n.a.createElement(D.a,{path:"/projetos"},n.a.createElement(L,null)),n.a.createElement(D.a,{path:"/"},n.a.createElement(L,null)))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[68,1,2]]]);
//# sourceMappingURL=main.6699dee4.chunk.js.map